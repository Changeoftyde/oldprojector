<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
<body>
<div id="pregame">
<img src="Phase 1.png" onclick="toggle()" id="settings">
<div class="hidden" id="menu"></div>

<div class="hidden" id="menuoptions">
<h1 id="ttitle">Settings</h1>
<p id="endlessmodelabel" class="label">Endless Mode</p><div style="left: 23vh" class="ts" id="endlessmode" onclick="onoff()"><div id="endlessmodeslider" class="tss"></div></div>
<p id="universalquestionslabel" style="top: 10vh" class="label">Universal Questions</p><div style="left: 23vh; top: 10vh" class="ts" id="universalquestions" onclick="onoff()"><div id="universalquestionsslider" class="tss"></div></div>
<p class="smalllabel" id="uql2">Dictates Whether or Not Certain Questions can be Answered by all Students</p>
<p id="penalizationlabel" style="top: 15vh" class="label">Wrong Answers Penalizable</p><div style="left: 23vh; top: 15vh" class="ts" id="penalization" onclick="onoff()"><div id="penalizationslider" class="tss"></div></div>
<p id="questioncyclelabel" style="top: 5vh; margin-left: 8vh; transition: 0.5s; transition-property: opacity" class="label">Amount of Question Cycles:</p><input style="transition: 0.5s; transition-property: opacity" id="questioncycle" value="1">
<p class="smalllabel" id="uql2" style="margin-left: 8vh; ; transition: 0.5s; transition-property: opacity">Estimated Game Duration: </p>
<p id="maxpointslabel" style="top: 25vh" class="label">Maximum Amount of Points: 10,000</p><div style="left: 60vh; top: 25vh" class="plusminus" id="maxpoints"><img src="plusdisabled.png" onclick="plus()" id="plus"><img src="minus.png" onclick="minus()" id="minus"></div>
</div>

<div id="logo">
<img src="IMG_8934.png" id="logo2">
</div>
<button onclick="addteam()" id="addteam">Add Team</button>
<div id="backgroundDiv"></div>
<button onclick="play()" id="play">PLAY
</button>
<div id="teams">
<div class="team" id="team1">
<textarea id="art1" class="artitle">TEAM 1
</textarea>
<button onclick="remove()" class="remove" id="button1">Remove</button>
<textarea id="ar1" class="autoresizing">
</textarea>
</div>
</div>
</div>
<div class="hidden" id="prelude">
<img src="skip.png" onclick="skip()" id="skip" class="next">
<div id="middle">
<img id="graphic">
<div id="infodiv">
<p id="info"></p>
</div>
<div id="loadbaroutline"><div id="loadbar"></div></div>


</div>
<div class="bgblack"></div>
</div>

<div class="hidden" id="questionslide">

<div id="teams2">
<img src="next.png" onclick="next()" id="n1" class="next">

</div>
<div id="questionspace">
<h1 id="q">

</h1>
<div onclick="reveal()" id="answer">
Click here to reveal the answer (after everyone has answered)
</div>
</div>
<div class="bgred"></div>
</div>

<div class="hidden" id="scoreboard">
<div class="hidden" id="animations">
<img class="hidden" id="animimage">
<div class="hidden" id="transbg"></div>
</div>
<h1 id="st">SCOREBOARD</h1>
<img src="next.png" onclick="preludeQuestionSlide()" id="n1" class="next">
<div class="bgred"></div>
</div>

<p class="hidden" id="score0">-1</p>
<style>
#animations {
  z-index: 50000;
}
#transbg {
  height: 100vh;
  top: 0;
  left: 0;
  transition-property: opacity;
  transition: 1s;
  width: 100vw;
  position: absolute;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 50000;
}
#animimage {
  height: 100vh;
  width: auto;
  z-index: 50001;
  left: 50%;
  top: 50%;
  position: absolute;
  transform: translate(-50%, -50%);
}
.bgblack {
  z-index: -2000;
  width: 100vw;
  height: 100vh;
  left: 0;
  top: 0;
  position: fixed;
  background-size: cover;
  background-position: 50% 50%;
  background-image: url("bgpreludeslide.png");
}
.bgred {
  z-index: -2000;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  position: fixed;
  background-size: cover;
  background-position: 50% 50%;
  background-image: url("bgqasslide.png");
}
.score {
  text-align: right;
  position: absolute;
  top: -3vh;
  right: 1vh;
  color: white;
}
#st {
  left: 50%;
  position: absolute;
  transform: translate(-50%, 0%);
  top: 0;
  color: white;
}
.teamscore {
  width: 90%;
  background-color: rgba(0, 0, 0, 0.5);
  transform: translate(-50%, 0%);
  left: 50%;
  padding: 1vh;
  font-size: 4vh;
  border-radius: 1vh;
  color: white;
  position: absolute;
}
#space2 {
  height: 5vh;
  opacity: 0;
  z-index: -2000;
}
#q {
  position: relative;
  width: 80vw;
  word-wrap: break-word;
  text-align: center;
  left: 50%;
  color: white;
  transform: translate(-50%, 0%);
}
#answer {
  width: 80vw;
  height: 7.5vh;
  text-align: center;
  word-wrap: break-word;
  position: absolute;
  left: 50%;
  color: white;
  transform: translate(-50%, 0%);
  overflow-y: scroll;
}
#questionspace {
  top: 35%;
  left: 50%;
  width: 80%;
  position: absolute;
  transform: translate(-50%, -50%);
}
#space {
  margin-left: 50%;
  width: 1px;
  height: 1px;
  top: 5vh;
  position: relative;
  background-color: red;
}
#middle {
  position: absolute;
  left: 50%;
  top: 45%;
  transform: translate(-50%, -50%);
  width: 100%;
}
#graphic {
  height: 10vh;
  margin-left: 50%;
  transform: translate(-50%, 0%);
}
  #loadbar {
   width: 80%;
   height: 5vh;
   border-radius: 5vh;
   left: 10%;
   width: 0;
   transition-property: width;
   background-size: cover;
   background-position: 50% 50%;
  }
  .next {
   height: 5vh;
   width: auto;
   position: fixed;
   right: 2.5vh;
   z-index: 75000;
   top: 2.5vh;
  }
  #loadbaroutline {
    width: 80%;
    height: 5vh;
    top: 2.5vh;
    position: relative;
    border-radius: 5vh;
    outline: white solid 2vh;
    margin-left: 50%;
    transform: translate(-50%, 0%);
  }
  #info {
    width: auto;
    padding: 1vh;
    word-wrap: break-word;
  }
  #infodiv {
    font-size: 3vh;
    outline: white solid 1vh;
    box-sizing: border-box;
    border-radius: 5vh;
    margin-left: 50%;
    position: relative;
    width: 80%;
    transform: translate(-50%, 0%);
    text-align: center;
    color: white;
  }
  .hidden {
    z-index: -10000;
    opacity: 0;
    width: 0;
    height: 0;
    position: absolute;
  }
  #teams2 {
    height: 34.5%;
    width: 100%;
    position: absolute;
    bottom: 0;
    overflow-y: scroll;
  }
  #play {
    transform: translate(-50%, 0%);
    left: 50%;
    bottom: 2vh;
    height: 10vh;
    width: 20vh;
    font-size: 7vh;
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    border-radius: 2vh;
    text-align: center;
    position: fixed;
    z-index: 1000;
  }
  button {
    border: 0;
    outline: 0;
    font-family: codec;
    color: black;
    background-color: rgba(255, 255, 255, 0.5);
  }
  input {
    font-family: codec;
  }
  textarea {
    font-family: codec;
  }
  @font-face {
    font-family: codec;
    src: url("coolvetica.ttf");
  }
  body {
    font-family: codec;
  }
  .smalllabel {
    font-size: 2vh;
    position: absolute;
    line-height: 2vh;
  }
  .plusminus {
    overflow: hidden;
    width: 8vh;
    height: 4vh;
    text-align: center;
    font-size: 3vh;
    position: absolute;
    top: 5vh;
    border: 0;
    outline: 0;
    border-radius: 2vh;
    left: 46vh;
  }
  #plus {
    top: 0;
    width: 50%;
    height: 100%;
    left: 0;
    position: absolute;
  }
  #minus {
    top: 0;
    width: 50%;
    height: 100%;
    left: 50%;
    position: absolute;
  }
  #prelude {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    position: absolute;
  }
  #questioncycle {
    width: 5vh;
    height: 2.5vh;
    text-align: center;
    font-size: 3vh;
    position: absolute;
    top: 5vh;
    border: 0;
    outline: 0;
    border-radius: 2vh;
    left: 46vh;
  }
  #ttitle {
    transform: translate(-50%, 0%);
    left: 50vw;
    position: absolute;
    top: 1vh;
    margin: 0;
    padding: 0;
    font-size: 5vh;
  }
  .label {
    padding: 0;
    margin: 0;
    line-height: 4vh;
    position: absolute;
    word-wrap: break-word;
  }
  #menu {
    position: fixed;
    width: 300%;
    height: 300%;
    top: -300%;
    right: -300%;
    transition: 1.5s;
    transform: translate(0%, 0%);
    background-image: url("settingsbackground.png");
    background-size: cover;
    background-position: 0% 100%;
    z-index: 1999;
  }
  #settings {
    position: fixed;
    top: 0;
    right: 0;
    z-index: 2000;
    height: 10vh;
    width: 10vh;
  }
  .remove {
    width: 9vh;
    height: 3vh;
    font-size: 1.5vh;
    border: 0;
    outline: 0;
    border-radius: 0.5vh;
    left: 50%;
    position: absolute;
    transform: translate(-50%, -50%);
  }
  .tss {
    left: 0.5vh;
    height: 3vh;
    transform: translate(0%, -50%);
    top: 50%;
    width: 3vh;
    border-radius: 3vh;
    background-color: white;
    position: absolute;
    transition: 0.5s;
    transition-property: left;
  }
  .ts {
    transition: 0.5s;
    position: absolute;
    height: 4vh;
    width: 8vh;
    border-radius: 4vh;
    background-color: #dddddd;
    z-index: 2000;
    transition-property: background-color;
  }
  #menuoptions {
    font-size: 4vh;
    color: white;
    z-index: 2000;
    position: absolute;
    bottom: 100%;
    height: 100%;
    transition: 1.5s;
  }
  .artitle {
    text-align: center;
    margin: 0;
    padding: 0;
    font-size: 4vh;
    display: block;
    overflow: hidden;
    resize: none;
    width: 100%;
    border-radius: 0;
    outline: 0;
    border: 0;
    height: 10vh;
    color: white;
    background-color: transparent;
  }
  .autoresizing {
    margin-top: 2vh;
    text-align: center;
    padding: 0;
    font-size: 3vh;
    display: block;
    overflow: hidden;
    resize: none;
    width: 100%;
    border-radius: 0;
    outline: 0;
    border: 0;
    height: 5vh;
    color: white;
    background-color: transparent;
  }
  #backgroundDiv {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: 50% 50%;
    position: fixed;
    z-index: -2000;
    top: 0;
    left: 0;
  }
  #teams {
    position: absolute;
    width: 100%;
  }
  .team {
    background-color: rgba(0, 0, 0, 0.5);
    height: auto;
    width: 30vh;
    background-size: cover;
    background-position: 50% 50%;
    position: absolute;
    overflow-y: hidden;
    border-radius: 1vh;
    color:white;
    text-align:center;
  }
  .tndisplay {
    font-size: 3vh;
  }
  .ndisplay {
    font-size: 5vh;
  }
  #addteam {
    width: 40%;
    left: 50%;
    width: 20vh;
    height: 5vh;
    font-size: 3vh;
    border-radius: 2vh;
    transform: translate(-50%, 0%);
    position: absolute;
  }
  #logo2 {
    top: 50%;
    left: 50%;
    position: absolute;
    transform: translate(-50%, -50%);
  }
  #logo {
    border-radius: 1vh;
    overflow-x: hidden;
    width: 80%;
    height: 20%;
    background-size: cover;
    background-position: 50% 50%;
    position: absolute;
    background-image: url("sdbg.png");
    top: 10vw;
    left: 50%;
    transform: translate(-50%, 0%);
  }
</style>
<script>
  colors = ["#2f5cf0", "#2f94f0", "#81e6e9", "#15f99b", "#42de3e", "#9dde3e", "#d5de3e", "#efc634", "#efa234", "#ff6a02", "#ff4b02", "#ff020e", "#ff4a00", "#283ab8", "#488d2f", "#1e0627", "#123c42", "#91c0c6", "#ff7b00", "#96558d"];
  coordcolor = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 2500, 3000, 4000, 5000, 6000, 7000, 8000, 9000];
  pucolors = ["#f5a616", "#692cab", "#f13334"];
  pucoordcolor = ["infinity", "steal", "double"];
  totalTeams = 1;
  window.addEventListener("resize", renderel);
  renderel();
  endlessmode = false;
  universalquestions = true;
  penalization = true;
  document.getElementById("universalquestions").style.backgroundColor = "#8be283";
  document.getElementById("universalquestions".concat("slider")).style.left = 4.5 + "vh";
  document.getElementById("penalization").style.backgroundColor = "#8be283";
  document.getElementById("penalization".concat("slider")).style.left = 4.5 + "vh";
  getSession();
  calculate();
  document.getElementById("questioncycle").addEventListener("keydown", calculate);
  document.getElementById("questioncycle").addEventListener("paste", calculate);
  function calculate() {
    setTimeout(function() {
    value = parseInt(document.getElementById("questioncycle").value);
    medium = value * 0.5 * parseInt(localStorage.getItem(current.concat("qat")));
    high = parseInt(medium + 2.5);
    low = parseInt(medium - 2.5);
    if (low < 1) { low = 1 }
    document.getElementsByClassName("smalllabel")[1].innerHTML = "Estimated Game Duration: ".concat(low.toString(), "-", high.toString(), " Minutes");
    }, 50);
  }
  max = 10000;
  hap3 = false;
  powerplay = false;
  function next() {
    document.getElementById("questionslide").classList.add("hidden");
    document.getElementById("scoreboard").classList.remove("hidden");
    if (hap3 == false) {
      for (i = 1; i <= totalTeams; i++) {
        newDiv = document.createElement("div");
        newDiv.id = "ts".concat(i.toString());
        newDiv.classList.add("teamscore");
        newDiv.innerHTML = window["teamName".concat(i.toString())];
        document.getElementById("scoreboard").appendChild(newDiv);
        newP = document.createElement("p");
        newP.id = "score".concat(i.toString());
        newP.classList.add("score");
        newP.innerHTML = "0";
        newDiv.appendChild(newP);
      }
    }
    hap3 = true;
    
    for (i = 1; i <= totalTeams; i++) {
      if ((window["t".concat(i.toString(), "bg")] == 1 && penalization == true) || (window["t".concat(i.toString(), "bg")] == 2 && penalization != true)) {
        document.getElementById("score".concat(i.toString())).innerHTML = parseInt(document.getElementById("score".concat(i.toString())).innerHTML) + nxtpts;
      }
    }
    
    if (powerplay != false) {
      if (powerplay == random) {
      }
      animate(powerplay);
    }
    
    renderscoreboardteams();
  }
  window.addEventListener("resize", renderscoreboardteams);
  function renderscoreboardteams() {
    for (i = 1; i <= totalTeams; i++) {
      window["place".concat(i.toString())] = 0;
    }
    for (i = 1; i <= totalTeams; i++) {
      for (a = 1; a <= totalTeams; a++) {
        if (parseInt(document.getElementById("score".concat(a.toString())).innerHTML) > parseInt(document.getElementById("score".concat(window["place".concat(i.toString())].toString())).innerHTML)) {
          cantakespot = true;
          for (b = 1; b <= totalTeams; b++) {
            if (window["place".concat(b.toString())] == a) {
              cantakespot = false;
            }
          }
          if (cantakespot == true) {
            window["place".concat(i.toString())] = a;
          }
        }
        //alert(window["place".concat(i.toString())]);
      }
    }
    for (i = 1; i <= totalTeams; i++) {
      document.getElementById("ts".concat(window["place".concat(i.toString())].toString())).style.top = 12 + (8 * (i - 1)) + "vh";
    }
  }
  function plus()  {
    if (max == 9000) {
      max = 10000;
      document.getElementById("maxpointslabel").innerHTML = "Maximum Amount of Points: 10,000";
    } else if (max == 2500) {
      max = 3000;
      document.getElementById("maxpointslabel").innerHTML = "Maximum Amount of Points: 3,000";
    } else if (max != 10000) {
      max += 1000;
      document.getElementById("maxpointslabel").innerHTML = "Maximum Amount of Points: ".concat(max.toString().substring(0, 1), ",000");
    }
    if (max == 10000) {
      document.getElementById("plus").src = "plusdisabled.png";
    } else {
      document.getElementById("plus").src = "plus.png";
    }
    if (max == 2500) {
      document.getElementById("minus").src = "minusdisabled.png";
    } else {
      document.getElementById("minus").src = "minus.png";
    }
  }
  function minus() {
    if (max == 3000) {
      max = 2500;
      document.getElementById("maxpointslabel").innerHTML = "Maximum Amount of Points: 2,500";
    } else if (max != 2500) {
      max -= 1000;
      document.getElementById("maxpointslabel").innerHTML = "Maximum Amount of Points: ".concat(max.toString().substring(0, 1), ",000");
    }
    if (max == 10000) {
      document.getElementById("plus").src = "plusdisabled.png";
    } else {
      document.getElementById("plus").src = "plus.png";
    }
    if (max == 2500) {
      document.getElementById("minus").src = "minusdisabled.png";
    } else {
      document.getElementById("minus").src = "minus.png";
    }
  }
  
  function getSession() {
    if (sessionStorage.getItem("whichclicked2")) {
    if (sessionStorage.getItem("whichclicked2") == "0") {
      window.location.href = "sets.html";
    }
    current = sessionStorage.getItem("whichclicked2");
    sessionStorage.setItem("whichclicked2", "0");
    document.getElementById("backgroundDiv").style.backgroundImage = "url('p".concat(localStorage.getItem(current.concat("p")), ".png')");
    } else {
      window.location.href = "sets.html";
    }
  }
  function cyclethru() {
    if (event.target.tagName == "DIV") {
      tsguy = parseInt(event.target.id.substring(4));
    } else {
      tsguy = "";
      for (i = 0; i < event.target.id.length; i++) {
        if (parseInt(event.target.id.substring(i, i + 1)) > 0) {
          tsguy = tsguy.concat(event.target.id.substring(i, i + 1));
        } else {
          break;
        }
      }
      tsguy = parseInt(tsguy);
    }
    teamel = document.getElementById("team".concat(tsguy.toString()));
    if (window["t".concat(tsguy.toString(), "bg")] == 1 && penalization == true) {
      window["t".concat(tsguy.toString(), "bg")] = 2;
      teamel.style.backgroundImage = "url('incorrect.png')";
    } else if (window["t".concat(tsguy.toString(), "bg")] == 2) {
      window["t".concat(tsguy.toString(), "bg")] = 0;
      teamel.style.backgroundImage = "url('neutral.png')";
    } else {
      /*for (a = 1; a <= totalTeams; a++) {
        if ((window["t".concat(a.toString(), "bg")] == 1 && penalization == true) || (window["t".concat(a.toString(), "bg")] == 2 && penalization == false) && a != tsguy) {
          window["t".concat(a.toString(), "bg")] = 0;
          document.getElementById("team".concat(a.toString())).style.backgroundColor = "rgba(0, 0, 0, 0.5)";
        }
}*/
      if (penalization == true) {
      window["t".concat(tsguy.toString(), "bg")] = 1;
      } else { window["t".concat(tsguy.toString(), "bg")] = 2; }
      teamel.style.backgroundImage = "url('correct.png')";
    }
  }
  nxtpts = 0.5;
  function preludeQuestionSlide() {
    document.getElementById("scoreboard").classList.add("hidden");
    powerplay = false;
    document.getElementById("prelude").classList.remove("hidden");
    if (nxtpts < 2048) {
      nxtpts = nxtpts * 2;
      suddendeath = false;
    } else if (nxtpts == max) {
      nxtpts = 1;
      suddendeath = false;
    } else {
      suddendeath = false;
      if (nxtpts == 2048) {
        nxtpts = 2500;
      } else if (nxtpts == 2500) {
        nxtpts = 3000;
      } else {
        nxtpts += 1000;
      }
      if (nxtpts == max) {
        suddendeath = true;
      }
    }
    if (suddendeath == true || nxtpts < 2500) {
      powerplay = false;
    } else {
      randomNum = Math.floor(Math.random() * 5) + 1;
      powerplay = false;
      if (randomNum == 1) {
        randomNum = Math.floor(Math.random() * 4) + 1;
        switch (randomNum) {
          case 1: 
            powerplay = "infinity";
            break;
          case 2:
            powerplay = "double";
            break;
          case 3:
            powerplay = "steal";
            break;
          case 4:
            powerplay = "random";
            break;
        }
      }
    }
    if (powerplay != false) {
      document.getElementById("graphic").src = powerplay.concat(".png");
      document.getElementById("info").innerHTML = ppt[randomNum - 1];
    } else if (suddendeath == true) {
      document.getElementById("graphic").src = nxtpts.toString().concat("sd.png");
      document.getElementById("info").innerHTML = "This question is worth ".concat(nxtpts.toString(), " points! But don't mess up, or you'll lose everything!");
    } else {
      document.getElementById("graphic").src = nxtpts.toString().concat(".png");
      if (nxtpts != 1) {
      document.getElementById("info").innerHTML = "This question is worth ".concat(nxtpts.toString(), " points!");
      } else {
      document.getElementById("info").innerHTML = "This question is worth ".concat(nxtpts.toString(), " point!");
      }
    }
    
    loadingScreen();
  }
  function reveal() {
    document.getElementById("answer").innerHTML = localStorage.getItem(current.concat("a", cq.toString()));
  }
  function animate(typeofanim) {
    document.getElementById("animations").classList.remove("hidden");
    document.getElementById("animimage").classList.remove("hidden");
    document.getElementById("transbg").classList.remove("hidden");
    if (typeofanim == "infinity") {
      document.getElementById("animimage").src = "infinityframe1.png";
      setTimeout(function() {
        nxtone = 1;
         for (i = 2; i <= 12; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "infinityframe".concat(nxtone.toString(), ".png");
             if (nxtone == 12) {
               document.getElementById("transbg").opacity = 0;
             }
           }, (i - 1) * 50);
         }
      }, 1000);
      setTimeout(function() {
        document.getElementById("animimage").style.transition = 2 + "s";
        document.getElementById("animimage").style.opacity = 0;
        document.getElementById("animations").classList.add("hidden");
        document.getElementById("animimage").style.transition = "none";
        document.getElementById("animimage").style.opacity = 1;
        document.getElementById("transbg").style.opacity = 1;
      }, 3000);
    } else if (typeofanim == "steal") {
      document.getElementById("animimage").src = "stealframe1.png";
      setTimeout(function() {
        nxtone = 1;
         for (i = 2; i <= 4; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "stealframe".concat(nxtone.toString(), ".png");
           }, (i - 1) * 25);
         }
      }, 1000);
      setTimeout(function() {
        nxtone = 4;
         for (i = 5; i <= 7; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "stealframe".concat(nxtone.toString(), ".png");
           }, (i - 4) * 25);
         }
      }, 1575);
      setTimeout(function() {
        nxtone = 7;
         for (i = 8; i <= 10; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "stealframe".concat(nxtone.toString(), ".png");
             if (nxtone == 10) {
               document.getElementById("transbg").style.opacity = 0;
             }
           }, (i - 7) * 25);
         }
      }, 2150);
      setTimeout(function() {
         nxtone = 10;
         for (i = 11; i <= 34; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "stealframe".concat(nxtone.toString(), ".png");
           }, (i - 10) * 25);
         }
      }, 2350);
      setTimeout(function() {
        document.getElementById("animations").classList.add("hidden");
        document.getElementById("transbg").style.opacity = 1;
      }, 2875);
    } else {
      document.getElementById("animimage").src = "doubleframe1.png";
      setTimeout(function() {
        nxtone = 1;
         for (i = 2; i <= 5; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "doubleframe".concat(nxtone.toString(), ".png");
           }, (i - 1) * 100);
         }
      }, 1000);
      setTimeout(function() {
        nxtone = 5;
         for (i = 6; i <= 17; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "doubleframe".concat(nxtone.toString(), ".png");
             if (nxtone == 17) {
               document.getElementById("transbg").style.opacity = 0;
             }
           }, (i - 5) * 100);
         }
      }, 1900);
      setTimeout(function() {
        nxtone = 17;
         for (i = 18; i <= 25; i++) {
           setTimeout(function() {
             nxtone++;
             document.getElementById("animimage").src = "doubleframe".concat(nxtone.toString(), ".png");
           }, (i - 17) * 100);
         }
      }, 3600);
      setTimeout(function() {
        document.getElementById("animations").classList.add("hidden");
        document.getElementById("transbg").style.opacity = 1;
      }, 4700);
    }
    document.getElementById("animimage").classList.add("hidden");
    document.getElementById("transbg").classList.add("hidden");
  }
  skipthis = false;
  function loadingScreen() {
    document.getElementById("loadbar").style.transition = 0 + "s";
    if (suddendeath == true) {
      document.getElementById("loadbar").style.backgroundColor = "#f43f3f";
      document.getElementById("loadbar").style.backgroundImage = "none";
    } else if (powerplay != false) {
      if (powerplay != "random") {
        document.getElementById("loadbar").style.backgroundColor = pucolors[pucoordcolor.indexOf(powerplay)];
        document.getElementById("loadbar").style.backgroundImage = "none";
      } else {
        document.getElementById("loadbar").style.backgroundImage = "url('randomcolors.png')";
      }
    } else {
      document.getElementById("loadbar").style.backgroundColor = colors[coordcolor.indexOf(nxtpts)];
      document.getElementById("loadbar").style.backgroundImage = "none";
    }
    loadbar.offsetHeight;
    document.getElementById("loadbar").style.transition = 5 + "s";
    document.getElementById("loadbar").style.width = 80 + "vw";
    setTimeout(function() {
      if (skipthis != true) {
      document.getElementById("prelude").classList.add("hidden");
      switchToQuestionSlide();
      }
      document.getElementById("loadbar").style.transition = 0 + "s";
      document.getElementById("loadbar").style.width = 0;
    }, 5000);
  }
  cq = 0;
  cq2 = 0;
  ppt = ["Eliminate half of the other teams!", "Double your score!", "Steal all of another team's points!", "A random power play is in effect!"];
  hap2 = false;
  function switchToQuestionSlide() {
    cq2++;
    document.getElementById("answer").innerHTML = "Click here to reveal the answer (after everyone has answered)";
    if (hap2 == false) {
    for (i = 1; i <= totalTeams; i++) {
      newDiv = document.createElement("div");
      newDiv.classList.add("team");
      newDiv.id = "team".concat(i.toString());
      newDiv.setAttribute("onclick", "cyclethru()");
      /*newBr = document.createElement("br");
      newDiv.appendChild(newBr);*/
      newSpan = document.createElement("span");
      newSpan.id = i.toString().concat("tndisplay");
      newSpan.classList.add("tndisplay");
      newSpan.innerHTML = window["teamName".concat(i.toString())];
      newDiv.appendChild(newSpan);
      newBr = document.createElement("br");
      newBr.id = i.toString().concat("brurhrhrj");
      newDiv.appendChild(newBr)
      newSpan = document.createElement("span");
      newSpan.id = i.toString().concat("ndisplay");
      newSpan.classList.add("ndisplay");
      newDiv.appendChild(newSpan);
      document.getElementById("teams2").appendChild(newDiv);
    }
    }
    for (i = 1; i <= totalTeams; i++) {
      window["t".concat(i.toString(), "bg")] = 0;
      document.getElementById("team".concat(i.toString())).style.backgroundImage = "url('neutral.png')";
    }
    for (i = 1; i <= totalTeams; i++) {
      if (window["currentname".concat(i.toString())] != window["non".concat(i.toString())]) {
      window["currentname".concat(i.toString())] = window["currentname".concat(i.toString())] + 1;
      } else {
      window["currentname".concat(i.toString())] = window["currentname".concat(i.toString())] = 1;
      }
      document.getElementById(i.toString().concat("ndisplay")).innerHTML = window["t".concat(i.toString(), "n", window["currentname".concat(i.toString())].toString())];
    }
    hap2 = true;
    if (cq2 > parseInt(localStorage.getItem(current.concat("qat")))) {
    cq = 1;
    } else {
    cq++;
    }
    document.getElementById("q").innerHTML = localStorage.getItem(current.concat("q", cq.toString()));
    document.getElementById("questionslide").classList.remove("hidden");
    //document.getElementById("q").innerHTML = localStorage.getItem(current.concat("q", cq.toString());
    renderel();
  }
  function skip() {
    document.getElementById("prelude").classList.add("hidden");
    skipthis = true;
    switchToQuestionSlide();
    setTimeout(function() {
      skipthis = false;
    }, 5000)
  }
  function onoff() {
    happened = false;
    
    for (i = 0; i < event.target.id.length; i++) {
      if (event.target.id.substring(i, i + 6) == "slider") {
        wslider = event.target.id.substring(0, event.target.id.length - 6);
        happened = true;
      }
    }
    if (happened == false) { wslider = event.target.id; }
    if (window[wslider] == false) {
      window[wslider] = true;
      document.getElementById(wslider).style.backgroundColor = "#8be283";
      document.getElementById(wslider.concat("slider")).style.left = 4.5 + "vh";
    } else {
      window[wslider] = false;
      document.getElementById(wslider).style.backgroundColor = "#dddddd";
      document.getElementById(wslider.concat("slider")).style.left = 0.5 + "vh";
    }
    renderel();
  }
  function play() {
    works = true;
    for (i = 1; i < totalTeams + 1; i++) {
      if (document.getElementById("art".concat(i.toString())).value == "") {
        message = "One or More Team Names Missing";
        works = false;
      } else if (document.getElementById("ar".concat(i.toString())).value == "") {
        message = "One or More Teams Missing Members";
        works = false;
      }
    }
    if (works == false) {
    alert(message);
    } else if (totalTeams < 2) {
    alert("At Least Two Teams Required to Play");
    } else if (parseInt(document.getElementById("questioncycle").value) < 1) {
    alert("You Need a Question Cycle Value of At Least 1");
    } else if (parseFloat(document.getElementById("questioncycle").value) % 1 != 0) {
    alert("You Need a Question Cycle Value that is a Whole Number");
    } else if (parseInt(document.getElementById("questioncycle").value) > 100) {
    alert("You Need a Question Cycle Value that is less than or equal to 100");
    } else {
    //remember current
    not = document.getElementsByClassName("team").length;
    for (i = 1; i < totalTeams + 1; i++) {
      window["teamName".concat(i.toString())] = document.getElementById("art".concat(i.toString())).value;
      txt = document.getElementById("ar".concat(i.toString())).value;
      currentword = 1;
      for (a = 0; a < txt.length; a++) {
        if (txt.substring(a, a + 1) == "\n") {
          currentword++;
        } else if (txt.substring(a - 1, a) == "\n" || a == 0) {
          window["t".concat(i.toString(), "n", currentword.toString())] = txt.substring(a, a + 1);
        } else {
          window["t".concat(i.toString(), "n", currentword.toString())] = window["t".concat(i.toString(), "n", currentword.toString())].concat(txt.substring(a, a + 1));
        }
      }
      window["non".concat(i.toString())] = currentword;
      window["currentname".concat(i.toString())] = 0;
    }
    document.getElementById("pregame").remove();
    haP = true;
    preludeQuestionSlide();
  }
  }
  haP = false;
  /*function addteam(vp) {
    newDiv = document.createElement("div");
    newDiv.id = "team".concat(vp.toString());
    newDiv.classList.add("team");
    document.getElementById("teams2").appendChild(newDiv);
    newH1 = document.createElement("h1");
    newH1.classList.add("teamtitle");
    newH1.innerHTML = ;
    renderel();
  }*/
  function addteam() {
    if (totalTeams != 25) {
    totalTeams += 1;
    newDiv = document.createElement("div");
    newDiv.id = "team".concat(totalTeams.toString());
    newDiv.classList.add("team");
    document.getElementById("teams").appendChild(newDiv);
    newTxt = document.createElement("textarea");
    newTxt.classList.add("artitle");
    newTxt.innerHTML = "TEAM ".concat(totalTeams.toString());
    newTxt.id = "art".concat(totalTeams.toString());
    newDiv.appendChild(newTxt);
    newButton = document.createElement("button");
    newButton.id = "button".concat(totalTeams.toString());
    newButton.setAttribute("onclick", "remove()");
    newButton.innerHTML = "Remove";
    newButton.classList.add("remove");
    newDiv.appendChild(newButton);
    newTxt = document.createElement("textarea");
    newTxt.classList.add("autoresizing");
    newTxt.id = "ar".concat(totalTeams.toString());
    newDiv.appendChild(newTxt);
    renderel();
    }
  }
  open = false;
  function toggle() {
    if (open == false) {
      open = true;
      document.getElementById("menuoptions").classList.remove("hidden");
      document.getElementById("menuoptions").style.bottom = 0 + "%";
      document.getElementById("menu").style.right = 0;
      document.getElementById("menu").style.top = 0;
      for (i = 2; i < 7; i++) {
        setTimeout(function() {
          document.getElementById("settings").src = "Phase ".concat(i.toString());
        }, (i - 1) * 300)
      }
    } else {
      open = false;
      document.getElementById("menuoptions").classList.add("hidden");
      document.getElementById("menuoptions").style.bottom = 100 + "%";
      document.getElementById("menu").style.right = -300 + "%";
      document.getElementById("menu").style.top = -300 + "%";
      for (i = 6; i > 1; i--) {
        setTimeout(function() {
          document.getElementById("settings").src = "Phase ".concat(i.toString());
        }, (7 - i) * 300);
      }
    }
  }
        window.addEventListener('keydown', autoResize);
        window.addEventListener('cut', autoResize);
        window.addEventListener('paste', autoResize);
        window.addEventListener('keydown', renderel);
        window.addEventListener('cut', renderel);
        window.addEventListener('paste', renderel);
        function autoResize() {
          setTimeout(function() {
          for (i = 0; i < (document.getElementsByClassName("artitle").length); i++) {
            textarea = document.getElementsByClassName("artitle")[i];
            textarea.style.height = "auto";
            textarea.style.height = textarea.scrollHeight + 'px';
            textarea = document.getElementsByClassName("autoresizing")[i];
            textarea.style.height = "auto";
            textarea.style.height = textarea.scrollHeight + 'px';
          }
          }, 80);
        }
  function remove() {
    num = parseInt(event.target.id.substring(6));
    for (i = (num + 1); i < (totalTeams + 1); i++) {
      document.getElementById("team".concat(i.toString())).id = "team".concat((i - 1).toString());
      document.getElementById("art".concat(i.toString())).id = "art".concat((i - 1).toString());
      document.getElementById("button".concat(i.toString())).id = "button".concat((i - 1).toString());
      document.getElementById("ar".concat(i.toString())).id = "ar".concat((i - 1).toString());
    }
    document.getElementById("team".concat(num.toString())).remove();
    totalTeams--;
    renderel();
  }
  endlessmodelength = 0.235;
  universalquestionslength = 0.33;
  penalizationlength = 0.46;
  questioncyclelength = 0.54;
  maxpointslength = 0.6;
  document.getElementById("questioncycle").addEventListener("keydown", expected);
  document.getElementById("questioncycle").addEventListener("paste", expected);
  function expected() {
    input = parseInt(document.getElementById("questioncycle").value);
    middle = input * 0.5 * parseInt(localStorage.getItem(current.concat("qat")));
    high = parseInt(middle + 2.5);
    low = parseInt(middle - 2.5);
    document.getElementsByClassName(smalllabel)[1].innerHTML = "Expected Game Duration: ".concat(low.toString(), "-", high.toString(), " Minutes");
  }
  function renderel() {
    setTimeout(function() {
    if (haP == false) {
    for (i = 0; i < document.getElementsByClassName("label").length; i++) {
      document.getElementsByClassName("label")[i].style.width = window.innerWidth - (window.innerHeight * 0.2) + "px";
    }
    for (i = 0; i < document.getElementsByClassName("smalllabel").length; i++) {
      document.getElementsByClassName("smalllabel")[i].style.width = window.innerWidth - (window.innerHeight * 0.11) + "px";
    }  
    document.getElementsByClassName("label")[3].style.width = window.innerWidth - (window.innerHeight * 0.29) + "px";
    document.getElementsByClassName("smalllabel")[1].style.width = window.innerWidth - (window.innerHeight * 0.19) + "px";
    ratio = window.innerHeight / window.innerWidth;
    for (i = 0; i < document.getElementsByClassName("ts").length; i++) {
      const tsElement = document.getElementsByClassName("ts")[i];
      if ((window[tsElement.id.concat("length")] + 0.2) * window.innerHeight > window.innerWidth) {
        tsElement.style.left = window.innerWidth - 0.2 * window.innerHeight + "px";
      } else {
        tsElement.style.left = (window[tsElement.id.concat("length")]) * window.innerHeight + "px";
      }
    }
    document.getElementById("endlessmodelabel").style.top = 9 + "vh";
    document.getElementById("endlessmode").style.top = 9 + "vh";
    totalHeight = endlessmodelabel.offsetHeight / (0.04 * window.innerHeight);
    if (endlessmode == true) {
      document.getElementById("questioncyclelabel").style.opacity = 0;
      document.getElementById("questioncycle").style.opacity = 0;
      document.getElementsByClassName("smalllabel")[1].style.opacity = 0;
      document.getElementById("maxpointslabel").style.top = (((totalHeight) * 0.04) + 0.125) * window.innerHeight + "px";
      document.getElementById("maxpoints").style.top = (((totalHeight) * 0.04) + 0.125) * window.innerHeight + "px";
      totalHeight += document.getElementById("maxpointslabel").offsetHeight / (window.innerHeight * 0.04);
      document.getElementById("universalquestions").style.top = (((totalHeight) * 0.04) + 0.16) * window.innerHeight + "px";
      document.getElementById("universalquestionslabel").style.top = (((totalHeight) * 0.04) + 0.16) * window.innerHeight + "px";
      totalHeight += document.getElementById("universalquestionslabel").offsetHeight / (window.innerHeight * 0.04);
      document.getElementsByClassName("smalllabel")[0].style.top = (((totalHeight) * 0.04) + 0.15) * window.innerHeight + "px";
      totalHeight += 0.5 * (document.getElementsByClassName("smalllabel")[1].offsetHeight / (window.innerHeight * 0.02));
      document.getElementById("penalization").style.top = (((totalHeight) * 0.04) + 0.2) * window.innerHeight + "px";
      document.getElementById("penalizationlabel").style.top = (((totalHeight) * 0.04) + 0.2) * window.innerHeight + "px";
    } else {
      document.getElementById("questioncyclelabel").style.opacity = 1;
      document.getElementById("questioncycle").style.opacity = 1;
      document.getElementsByClassName("smalllabel")[1].style.opacity = 1;
      document.getElementById("questioncyclelabel").style.top = ((totalHeight * 0.04) + 0.11) * window.innerHeight + "px";
      document.getElementById("questioncycle").style.top = ((totalHeight * 0.04) + 0.11) * window.innerHeight + "px";
      totalHeight += document.getElementById("questioncyclelabel").offsetHeight / (window.innerHeight * 0.04);
      document.getElementsByClassName("smalllabel")[1].style.top = ((parseInt(totalHeight) * 0.04) + 0.13) * window.innerHeight + "px";
      totalHeight += 0.5 * (document.getElementsByClassName("smalllabel")[1].offsetHeight / (window.innerHeight * 0.02));
      document.getElementById("maxpointslabel").style.top = (((totalHeight) * 0.04) + 0.14) * window.innerHeight + "px";
      document.getElementById("maxpoints").style.top = (((totalHeight) * 0.04) + 0.14) * window.innerHeight + "px";
      totalHeight += document.getElementById("maxpointslabel").offsetHeight / (window.innerHeight * 0.04);
      document.getElementById("universalquestions").style.top = (((totalHeight) * 0.04) + 0.16) * window.innerHeight + "px";
      document.getElementById("universalquestionslabel").style.top = (((totalHeight) * 0.04) + 0.16) * window.innerHeight + "px";
      totalHeight += document.getElementById("universalquestionslabel").offsetHeight / (window.innerHeight * 0.04);
      document.getElementsByClassName("smalllabel")[0].style.top = (((totalHeight) * 0.04) + 0.15) * window.innerHeight + "px";
      totalHeight += 0.5 * (document.getElementsByClassName("smalllabel")[1].offsetHeight / (window.innerHeight * 0.02));
      document.getElementById("penalization").style.top = (((totalHeight) * 0.04) + 0.2) * window.innerHeight + "px";
      document.getElementById("penalizationlabel").style.top = (((totalHeight) * 0.04) + 0.2) * window.innerHeight + "px";
    }
    tsElement = document.getElementById("questioncycle");
    if ((window[tsElement.id.concat("length")] + 0.2) * window.innerHeight > window.innerWidth) {
      tsElement.style.left = window.innerWidth - 0.2 * window.innerHeight + "px";
    } else {
      tsElement.style.left = (window[tsElement.id.concat("length")]) * window.innerHeight + "px";
    }
    tsElement = document.getElementById("maxpoints");
    if ((window[tsElement.id.concat("length")] + 0.2) * window.innerHeight > window.innerWidth) {
      tsElement.style.left = window.innerWidth - 0.2 * window.innerHeight + "px";
    } else {
      tsElement.style.left = (window[tsElement.id.concat("length")]) * window.innerHeight + "px";
    }
    ratio2 = ((0.2 * window.innerHeight) * ((ratio + 4) / 3)) / ((window.innerWidth - (2 * (ratio * 0.025)) * window.innerWidth));
    if (ratio2 > 1) {
      document.getElementById("logo2").style.height = "auto";
      document.getElementById("logo2").style.width = 100 + "%";
    } else {
      document.getElementById("logo2").style.width = "auto";
      document.getElementById("logo2").style.height = 100 + "%";
    }
    ratio = (ratio / 3) * 2;
    document.getElementById("logo").style.height = (0.2 * window.innerHeight) * ((ratio + 4) / 3) + "px";
    document.getElementById("logo").style.width = (window.innerWidth - (2 * (ratio * 0.025)) * window.innerWidth) + "px";
    document.getElementById("logo").style.top = (((ratio * 0.025)) * window.innerWidth) + "px";
    document.getElementById("addteam").style.top = 2 * (((ratio * 0.025)) * window.innerWidth) + ((0.2 * window.innerHeight) * ((ratio + 4) / 3)) + "px";
    document.getElementById("teams").style.top = (0.05 * window.innerHeight) + 3 * (((ratio * 0.025)) * window.innerWidth) + ((0.2 * window.innerHeight) * ((ratio + 4) / 3)) + "px";
    }
    ratio = window.innerHeight / window.innerWidth;
    ratio = (ratio / 3) * 2;
    margin = (((ratio * 0.025)) * window.innerWidth);
    nopr = parseInt((1 / (ratio / 2)) * 1.5);
    bestHeight = 0;
    topp = 0;
    for (i = 1; i < (totalTeams + 1); i++) {
      document.getElementById("team".concat(i.toString())).style.width = (window.innerWidth - ((nopr + 1) * margin)) / nopr + "px";
      remainder = i % nopr;
      ogr = remainder;
      if (remainder == 0) { remainder = nopr }
      dvsp = i - remainder;
      dvsp = dvsp / nopr;
      document.getElementById("team".concat(i.toString())).style.left = margin * 0.25 + (remainder - 1) * (margin + ((window.innerWidth - ((nopr + 1) * margin)) / nopr)) + "px";
      if (dvsp != 0) {
        topp = 0;
        for (a = 1; a < (dvsp + 1); a++) {
          topp += document.getElementById("team".concat((i - (nopr * a)).toString())).offsetHeight + margin;
        }
        document.getElementById("team".concat(i.toString())).style.top = topp + "px";
        topp = 0;
      } else {
        document.getElementById("team".concat(i.toString())).style.top = 0;
      }
    }
    }, 100);
  }
</script>
</body>
</html>
