<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script 
  src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js" 
  integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ==" 
  crossorigin="anonymous" 
  referrerpolicy="no-referrer">
</script>
<body>
<div id="sidebar">
<a href="index.html"><div style="top: 0svh" class="hyperlink"><img src="home.png" class="hpimg"><p class=" hplabel">Home</p></div></a>
<a href="study.html"><div style="top: 13.5svh" class="hyperlink"><img src="study.png" class="hpimg"><p class="hplabel">Study</p></div></a>
<a href="play.html"><div style="top: 27svh" class="hyperlink"><img src="play.png" class="hpimg"><p class="hplabel">Play</p></div></a>
<a href="sets.html"><div style="top: 40.5svh" class="hyperlink"><img src="sets.png" class="hpimg"><p class="hplabel">Sets</p></div></a>
<a href="create.html"><div style="top: 54svh" class="hyperlink"><img src="create.png" class="hpimg"><p class="hplabel">Create</p></div></a>
<a href="import.html"><div style="top: 67.5svh" class="hyperlink selected"><img src="importselected.png" class="hpimg"><p class="hplabel selected">Import</p></div></a>
<a href="settings.html"><div style="top: 85.5svh" class="hyperlink"><img src="settings.png" class="hpimg"><p class="hplabel">Settings</p></div></a>

</div>
<div id="content">
<div id="heading">
<div id="fadedbg"></div><span id="nameofset"></span></div>
<div id="manifest">Manifest
<p style="top: 1svh" class="lfm">Set Name: </p>
<textarea placeholder="Set Name Here..." style="top: 7svh" class="mb"></textarea>
<p style="top: 8.5svh" class="lfm">Set Author: </p>
<textarea placeholder="Author's Name Here..." style="top: 14.5svh" class="mb"></textarea>
<div id="picture">
<select onchange="changeimgs()" id="category"></select>
<div id="actualpics">
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
<div onclick="selectapic()" class="picselection"></div>
</div>
</div>
</div>

<div id="qaa">Questions/Answers
<img onclick="addgroup()" src="add.png" id="addquestion">
<div id="actualquestions">
</div>
</div>

<div onclick="save()" id="savebutton">Save</div>

</div>
</body>
<style>
.deletegroup {
  width: 4svh;
  height: 4svh;
  top: 50%;
  transform: translate(0%, -50%);
  right: 1svh;
  position: absolute;
}
.blank {
  color: white;
  font-family: fredokaone;
  width: 100%;
  border: none;
  resize: none;
  left: 0;
  background-color: rgba(0, 0, 0, 0);
  height: calc(100% - 3svh);
  bottom: 0;
  position: absolute;
}
.answer {
  overflow: hidden;
  color: white;
  font-size: 2.5svh;
  font-weight: normal;
  text-align: left;
  width: calc((100% - 8svh) / 2);
  height: 12svh;
  border-radius: 1svh;
  background-color: black;
  position: absolute;
  right: 6svh;
  top: 1svh;
}
.question {
  overflow: hidden;
  color: white;
  font-size: 2.5svh;
  font-weight: normal;
  text-align: left;
  width: calc((100% - 8svh) / 2);
  height: 12svh;
  border-radius: 1svh;
  background-color: black;
  position: absolute;
  left: 1svh;
  top: 1svh;
}
#actualquestions {
  width: 100%;
  height: calc(100% - 10svh);
  bottom: 0;
  left: 0;
  position: absolute;
  overflow-y: scroll;
}
.qgroup {
  top: 0.5svh;
  width: calc(100% - 3svh);
  height: 14svh;
  border-radius: 1svh;
  left: 1.5svh;
  outline: 0.5svh solid black;
  position: absolute;
}
#addquestion {
  height: 4svh;
  width: 4svh;
  left: 50%;
  transform: translate(-50%, 0%);
  top: 4.5svh;
  position: absolute;
}
#qaa {
  width: calc(100% - 8svh);
  height: 50.5svh;
  border-radius: 1svh;
  position: absolute;
  outline: 1.5svh solid black;
  left: 4svh;
  bottom: 4svh;
  text-align: center;
  font-weight: bold;
  font-size: 3.5svh;
}
#savebutton {
  background-color: white;
  left: 50%;
  transform: translate(-50%, 0%);
  bottom: 1.5svh;
  width: 10svh;
  height: 5svh;
  font-size: 4svh;
  border-radius: 1svh;
  outline: 1.5svh solid black;
  text-align: center;
  color: black;
  position: absolute;
}
#actualpics {
  width: 100%;
  overflow-y: scroll;
  overflow-x: hidden;
  height: calc(100% - 3svh);
  left: 0;
  position: absolute;
  bottom: 0;
}
.selectedpic {
  filter: brightness(150%);
  outline: 1svh solid black;
}
.selectedpicdarkmode {
  backdrop-filter: brightness(67%);
  outline: 1svh solid white;
}
.picselection {
  outline-offset: -1svh;
  background-size: cover;
  background-position: 50% 50%;
  position: absolute;
  top: 1svh;
  height: 8svh;
  border-radius: 1svh;
}
#category {
  width: 100%;
  height: 3svh;
  left: 0;
  top: 0;
  position: absolute;
  border-radius: 0;
  border: 0;
  background-color: black;
  color: white;
}
#picture {
  width: calc(0.5 * (100% - 5svh));
  height: 13svh;
  outline: 0.5svh solid black;
  border-radius: 0.5svh;
  position: absolute;
  right: 1.5svh;
  bottom: 2svh;
}
.mb {
  position: absolute;
  outline: 0.5svh solid black;
  font-size: 2.5svh;
  height: 3.5svh;
  width: calc(0.5 * (100% - 5svh));
  background-color: rgba(0, 0, 0, 0);
  color: black;
  font-family: fredokaone;
  border-radius: 0.5svh;
  left: 1.5svh;
  resize: none;
}
.lfm {
  position: absolute;
  left: 1svh;
  text-align: left;
  font-size: 2.5svh;
  font-weight: normal;
}
#manifest {
  text-align: center;
  font-weight: bold;
  font-size: 3.5svh;
  width: calc(100% - 8svh);
  height: 20svh;
  left: 50%;
  border-radius: 1svh;
  transform: translate(-50%, 0%);
  top: 21.5svh;
  position: absolute;
  outline: 1.5svh solid black;
}
.obj {
  background-size: cover;
  background-position: 50% 50%;
  position: absolute;
  height: 4svh;
  text-align: center;
  font-weight: bold;
  font-size: 3.5svh;
  top: 1.5svh;
  border-radius: 1svh;
  outline: 1.5svh solid black;
}
#insidetoolbar {
  width: 43svh;
  height: 100%;
  left: 50%;
  position: absolute;
  transform: translate(-50%, 0%);
}
#toolbar {
  width: 100%;
  height: 7svh;
  top: 20svh;
  position: absolute;
}
#fadedbg {
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  position: absolute;
  background-size: cover;
  background-position: 50% 50%;
  opacity: 0.5;
}
#nameofset {
  width: 100%;
  text-align: center;
  height: auto;
  position: absolute;
  word-wrap: break-word;
  left: 50%;
  font-size: 6svh;
  top: 50%;
  transform: translate(-50%, -50%);
  color: white;
}
@font-face {
  font-family: fredokaone;
  src: url("FredokaOne-Regular.otf");
}
body {
  font-family: fredokaone;
}
#logo {
  height: 90%;
  width: auto;
  top: 50%;
  left: 50%;
  position: absolute;
  transform: translate(-50%, -50%);
}
.selected {
  color: white;
  background-color: #c12020;
}
.hpimg {
  top: 1.5svh;
  left: 1.5svh;
  width: 9svh;
  position: absolute;
  height: 9svh;
}
.hplabel {
  width: 100%;
  position: absolute;
  font-weight: bold;
  text-align: center;
  left: 50%;
  bottom: 0.75svh;
  height: auto;
  transform: translate(-50%, 0%);
}
.hyperlink {
  color: #c12020;
  position: absolute;
  width: 9svh;
  padding: 1.5svh;
  height: 12svh;
  font-size: 2svh;
}
.author {
  font-size: 2svh;
  font-weight: normal;
}
.insidetext {
  font-weight: bold;
  font-size: 3svh;
  position: absolute;
  padding: 0;
  text-align: center;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
.group {
  height: 15svh;
  outline: 1.5svh solid black;
  border-radius: 1.5svh;
  overflow: hidden;
  position: absolute;
  background-size: cover;
  background-position: 50% 50%;
  filter: brightness(150%);
}
#groups {
  width: 100%;
  position: absolute;
  top: 21svh;
  height: 200%;
}
#heading {
  z-index: 2;
  position: fixed;
  overflow: hidden;
  width: calc(100% - 14.75svh);
  height: 17.5svh;
  background-color: #c12020;
  right: 0;
  top: 0;
}
#content {
  position: absolute;
  width: calc(100% - 14.75svh);
  height: 100%;
  right: 0;
  top: 0;
  background-image: url("whitebg.png");
  background-position: 50% 50%;
  background-size: cover;
  overflow: hidden;
}
.halfwhite {
  top: 0;
  left: 0;
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: -1;
  background-color: rgba(255, 255, 255, 0.5);
}
#sidebar {
  background-color: white;
  outline: 3svh solid #c12020;
  width: 12svh;
  left: 0;
  top: 0;
  height: 100%;
  position: fixed;
}
.darkmodehyperlink {
  color: white;
  position: absolute;
  width: 9svh;
  padding: 1.5svh;
  height: 12svh;
  font-size: 2svh;
}
select {
  font-family: fredokaone;
}
</style>
<script>
if (localStorage.getItem("numofsets")) {} else {
  localStorage.setItem("numofsets", "0");
}
if (localStorage.getItem("numofsets") == "10") {
  window.location.href = "toomanysets.html";
} else {
  current = (parseInt(localStorage.getItem("numofsets")) + 1).toString();
}
numq = 0;
function removegroup() {
  for (i = 0; i < document.getElementsByClassName("deletegroup").length; i++) {
    if (event.target == document.getElementsByClassName("deletegroup")[i]) {
      groupToDelete = i;
      break;
    }
  }
  numq--;
  document.getElementsByClassName("qgroup")[groupToDelete].remove();
  for (i = groupToDelete; i < document.getElementsByClassName("qgroup").length; i++) {
    document.getElementsByClassName("questionspan")[i].textContent = "Question ".concat((i + 1).toString(), ": ");
    document.getElementsByClassName("answerspan")[i].textContent = "Answer ".concat((i + 1).toString(), ": ");
    document.getElementsByClassName("qgroup")[i].style.top =  0.005 * window.innerHeight + (i * window.innerHeight * 0.16);
  }
}
for (i = 0; i < parseInt(sessionStorage.getItem("qat") / 2); i++) {
  addgroup();
  document.getElementsByClassName("qblank")[i].value = sessionStorage.getItem("q".concat((i + 1).toString()));
  document.getElementsByClassName("ablank")[i].value = sessionStorage.getItem("a".concat((i + 1).toString()));
}
function addgroup() {
  if (numq != 300) {
  numq++;
  /*<div class="qgroup">
  <div class="question">Question 1: <span class="count"></span><textarea class="blank"></textarea></div>
  <div class="answer">Answer 1: <span class="count"></span><textarea class="blank"></textarea></div>
  <img src="remove.png" class="deletegroup">
  </div>*/
  newGroup = document.createElement("div");
  newGroup.classList.add("qgroup");
  document.getElementById("actualquestions").appendChild(newGroup);
  newQ = document.createElement("div");
  newQ.classList.add("question");
  newSpan = document.createElement("span");
  newSpan.innerHTML = "Question ".concat(numq.toString(), ": ");
  newSpan.classList.add("questionspan");
  newQ.appendChild(newSpan);  
  newSpan = document.createElement("span");
  newSpan.classList.add("count");
  newSpan.innerHTML = "(0/500)";
  newQ.appendChild(newSpan);
  newTxtArea = document.createElement("textarea");
  newTxtArea.classList.add("blank");
  newTxtArea.classList.add("qblank");
  newQ.appendChild(newTxtArea);
  newGroup.appendChild(newQ);
  newA = document.createElement("div");
  newA.classList.add("answer");
  newSpan = document.createElement("span");
  newSpan.innerHTML = "Answer ".concat(numq.toString(), ": ");
  newSpan.classList.add("answerspan");
  newA.appendChild(newSpan);
  newSpan = document.createElement("span");
  newSpan.classList.add("count2");
  newSpan.innerHTML = "(0/1000)";
  newA.appendChild(newSpan);
  newTxtArea2 = document.createElement("textarea");
  newTxtArea2.classList.add("blank");
  newTxtArea2.classList.add("ablank");
  newA.appendChild(newTxtArea2);
  newGroup.appendChild(newA);
  newRemove = document.createElement("img");
  newRemove.classList.add("deletegroup");
  newRemove.src = "delete.png";
  newGroup.appendChild(newRemove);
  newGroup.style.top = 0.005 * window.innerHeight + ((numq - 1) * window.innerHeight * 0.16);
  newRemove.setAttribute("onclick", "removegroup()");
  if (localStorage.getItem("darkmode") == "1") {
    newGroup.style.outline = "0.5svh solid white";
    newA.style.backgroundColor = "white";
    newQ.style.backgroundColor = "white";
    newA.style.color = "black";
    newQ.style.color = "black";
    newTxtArea.style.color = "black";
    newTxtArea2.style.color = "black";
  }
  }
}
function save() {
  isempty = false;
  for (i = 0; i < document.getElementsByClassName("qblank").length; i++) {
    if (document.getElementsByClassName("qblank")[i].value == "" || document.getElementsByClassName("ablank")[i].value == "") {
      isempty = true;
    }
  }
  if (numq == 0) {
    alert("You need at least one question in your set.")
  } else if (document.getElementsByClassName("mb")[0].value == "") {
    alert("You need a set name.")
  } else if (document.getElementsByClassName("mb")[1].value == "") {
    alert("You need a set author.")
  } else if (isempty) {
    alert("One of your questions or answers is missing text.")
  } else {
    localStorage.setItem("numofsets", (parseInt(localStorage.getItem("numofsets")) + 1).toString());
    localStorage.setItem(current.concat("qat"), numq.toString());
    localStorage.setItem(current.concat("n"), document.getElementsByClassName("mb")[0].value);
    localStorage.setItem(current.concat("a"), document.getElementsByClassName("mb")[1].value);
    localStorage.setItem(current.concat("p"), currentselectedpic.toString());
    for (i = 0; i < document.getElementsByClassName("qblank").length; i++) {
      localStorage.setItem(current.concat("q", (i + 1).toString()), document.getElementsByClassName("qblank")[i].value);
      localStorage.setItem(current.concat("a", (i + 1).toString()), document.getElementsByClassName("ablank")[i].value);
    }
    window.location.href = "sets.html";
  }
}
currentselectedpic = 0;
function changeimgs() {
  whichcategory = (parseInt(document.getElementById("category").value)) - 1;
  for (i = 0; i < document.getElementsByClassName("picselection").length; i++) {
    document.getElementsByClassName("picselection")[i].style.backgroundImage = "url('".concat(((whichcategory * 10) + (i + 1)).toString(), ".png')");
    rem = currentselectedpic % 10;
    if (rem == 0) { rem = 10; } 
    leveltwo = ((currentselectedpic - rem) / 10) + 1;
    rem--;
    if (rem == i && leveltwo == parseInt(document.getElementById("category").value)) {
    if (localStorage.getItem("darkmode") == "1") {
    document.getElementsByClassName("picselection")[i].classList.add("selectedpicdarkmode");
    } else {
    document.getElementsByClassName("picselection")[i].classList.add("selectedpic");
    }
    } else {
    if (localStorage.getItem("darkmode") == "1") {
    document.getElementsByClassName("picselection")[i].classList.remove("selectedpicdarkmode");
    } else {
    document.getElementsByClassName("picselection")[i].classList.remove("selectedpic");
    }
    }
  }
}
function selectapic() {
  if (localStorage.getItem("darkmode") == "1") {
  event.target.classList.add("selectedpicdarkmode");
  } else {
  event.target.classList.add("selectedpic");
  }
  for (i = 0; i < document.getElementsByClassName("picselection").length; i++) {
    if (event.target == document.getElementsByClassName("picselection")[i]) {
      numIndex = i + 1;
    }
  }
  currentselectedpic = ((parseInt(document.getElementById("category").value) - 1) * 10) + numIndex;
  document.getElementById("fadedbg").style.backgroundImage = "url('".concat(currentselectedpic.toString(), ".png')");
  for (i = 0; i < document.getElementsByClassName("picselection").length; i++) {
    if (document.getElementsByClassName("picselection")[i] != event.target) {
      if (localStorage.getItem("darkmode") == "1") {
      document.getElementsByClassName("picselection")[i].classList.remove("selectedpicdarkmode");
      } else {
      document.getElementsByClassName("picselection")[i].classList.remove("selectedpic");
      }
    }
  }
}
window.addEventListener("cut", palmtree);
window.addEventListener("keydown", palmtree);
window.addEventListener("paste", palmtree);
function palmtree() {
  setTimeout(function() {
  if (document.getElementsByClassName("mb")[0].value.length > 50) {
    document.getElementsByClassName("mb")[0].value = document.getElementsByClassName("mb")[0].value.substring(0, 50);
  }
  document.getElementById("nameofset").innerHTML = document.getElementsByClassName("mb")[0].value;
  resizeeverything();
  if (document.getElementsByClassName("mb")[1].value.length > 50) {
    document.getElementsByClassName("mb")[1].value = document.getElementsByClassName("mb")[1].value.substring(0, 50);
  }
  for (i = 0; i < document.getElementsByClassName("question").length; i++) {
    if (document.getElementsByClassName("qblank")[i].value.length > 500) {
      document.getElementsByClassName("qblank")[i].value = document.getElementsByClassName("qblank")[i].value.substring(0, 500); 
    }
    document.getElementsByClassName("count")[i].innerHTML = "(".concat(document.getElementsByClassName("qblank")[i].value.length.toString(), "/500)");
    if (document.getElementsByClassName("ablank")[i].value.length > 1000) {
      document.getElementsByClassName("ablank")[i].value = document.getElementsByClassName("ablank")[i].value.substring(0, 1000); 
    }
    document.getElementsByClassName("count2")[i].innerHTML = "(".concat(document.getElementsByClassName("ablank")[i].value.length.toString(), "/1000)");
  }
  }, 100);
}
categories = ["Biology and Life Science", "Chemistry and Molecules", "Physics and Engineering", "Math and Symbols", "Anatomy and Medicine", "Geology and Earth Science", "Astronomy and Space", "Ancient History", "Modern History and Politics", "Literature", "Language and Linguistics", "Philosophy and Critical Thinking", "Visual Arts", "Music and Performing Arts", "Culture and World Religions", "Technology and Computing", "Economics and Finance", "Psychology and Neuroscience", "Geography and Maps", "Sociology and Society", "Environmental Science", "Architecture and Design", "Education", "Law and Ethics", "Pop Culture and Media", "Animals", "Sports"];
for (i = 0; i < categories.length; i++) {
  newOption = document.createElement("option");
  newOption.value = (i + 1).toString();
  newOption.innerHTML = categories[i];
  document.getElementById("category").appendChild(newOption);
}
changeimgs();
resizeeverything();
window.addEventListener("resize", resizeeverything);
document.getElementById("nameofset").innerHTML = localStorage.getItem(current + "n");
document.getElementById("fadedbg").style.backgroundImage = "url('" + localStorage.getItem(current + "p") + ".png')";
function redirect(url) {
  window.location.href = url;
}
function resizeeverything() {
  width = window.innerWidth;
  height = window.innerHeight;
  space = (window.innerWidth) - window.innerHeight * 0.1475;
  ratio = height / width;
  ratio = (ratio / 3) * 2;
  margin = window.innerHeight * 0.02;
  nopr = parseInt((1 / (ratio / 1.5)) * 1.5);
  for (i = 0; i < document.getElementsByClassName("picselection").length; i++) {
    document.getElementsByClassName("picselection")[i].style.width = (document.getElementById("actualpics").offsetWidth - (((1 + nopr) / 100) * window.innerHeight)) / nopr;
    widthVal = (document.getElementById("actualpics").offsetWidth - (((1 + nopr) / 100) * window.innerHeight)) / nopr;
    remainder = (i + 1) % nopr;
    if (remainder == 0) { remainder = nopr }
    document.getElementsByClassName("picselection")[i].style.left = (0.01 * window.innerHeight) + ((remainder - 1) * (widthVal + (0.01 * window.innerHeight)));
    level = ((i + 1) - remainder) / nopr;
    document.getElementsByClassName("picselection")[i].style.top = 0.01 * window.innerHeight + (level * (0.09 * window.innerHeight));
  }
  //resize the text/name
}
if (localStorage.getItem("darkmode")) {} else {
  localStorage.setItem("darkmode", "0");
}
arrayOfPictureNames = ["home", "study", "play", "sets", "create", "import", "settings"];
if (localStorage.getItem("darkmode") == "1") {
  document.body.style.backgroundColor = "black";
  document.getElementById("heading").style.backgroundColor = "white";
  document.getElementById("sidebar").style.outline = "3svh solid white";
  document.getElementById("sidebar").style.backgroundColor = "black";
  for (i = 0; i < document.getElementsByClassName("hpimg").length; i++) {
    if (document.getElementsByClassName("hyperlink")[i].classList.contains("selected")) {
      document.getElementsByClassName("hyperlink")[i].style.backgroundColor = "white";
      document.getElementsByClassName("hplabel")[i].style.backgroundColor = "white";
      document.getElementsByClassName("hplabel")[i].style.color = "black";
      document.getElementsByClassName("hpimg")[i].src = arrayOfPictureNames[i].concat("black.png");
    } else {
      document.getElementsByClassName("hpimg")[i].src = arrayOfPictureNames[i].concat("selected.png");
      document.getElementsByClassName("hyperlink")[i].classList.add("darkmodehyperlink");
    }
  }
  document.getElementsByClassName("mb")[0].style.color = "white";
  document.getElementsByClassName("mb")[0].style.outline = "0.5svh solid white";
  document.getElementsByClassName("mb")[1].style.color = "white";
  document.getElementsByClassName("mb")[1].style.outline = "0.5svh solid white";
  document.getElementById("manifest").style.outline = "1.5svh solid white";
  document.getElementById("manifest").style.color = "white";
  document.getElementById("category").style.backgroundColor = "white";
  document.getElementById("category").style.color = "black";
  document.getElementById("picture").style.outline = "0.5svh solid white";
  document.getElementById("nameofset").style.color = "black";
  document.getElementById("qaa").style.outline = "1.5svh solid white";
  document.getElementById("qaa").style.color = "white";
  document.getElementById("addquestion").src = "adddarkmode.png";
}
palmtree();
</script>

